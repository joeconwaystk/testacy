
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Aqueduct, a Dart server-side framework.">
      
      
      
      
        <link rel="shortcut icon" href="./assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.1, mkdocs-material-1.1.1">
    
    
      
        <title>Aqueduct</title>
      
    
    
      <script src="./assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="./assets/stylesheets/application-4ebe3f1d68.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="./style/css/override.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="." title="Aqueduct" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Home
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/stablekernel/aqueduct" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Aqueduct
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/stablekernel/aqueduct" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="." title="Home" class="md-nav__link md-nav__link--active">
      Home
    </a>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tut/getting-started/" title="1. Getting Started" class="md-nav__link">
      1. Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tut/writing-tests/" title="2. Writing Tests" class="md-nav__link">
      2. Writing Tests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tut/executing-queries/" title="3. Executing Database Queries" class="md-nav__link">
      3. Executing Database Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tut/model-relationships-and-joins/" title="4. Advanced Database Queries" class="md-nav__link">
      4. Advanced Database Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tut/deploying-and-other-fun-things/" title="5. Deploying" class="md-nav__link">
      5. Deploying
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      HTTP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        HTTP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="http/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/structure/" title="Application Structure" class="md-nav__link">
      Application Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/request_and_response/" title="Request and Response Objects" class="md-nav__link">
      Request and Response Objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/request_controller/" title="Handling Requests: Fundamentals" class="md-nav__link">
      Handling Requests: Fundamentals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/routing/" title="Routing" class="md-nav__link">
      Routing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/request_sink/" title="Initialization and the RequestSink" class="md-nav__link">
      Initialization and the RequestSink
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/http_controller/" title="Handling Requests: HTTPController" class="md-nav__link">
      Handling Requests: HTTPController
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="http/cors/" title="CORS Configuration" class="md-nav__link">
      CORS Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Database/ORM
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Database/ORM
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="db/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/modeling_data/" title="Modeling Data" class="md-nav__link">
      Modeling Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/serialization/" title="Storage, Serialization and Deserialization" class="md-nav__link">
      Storage, Serialization and Deserialization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/executing_queries/" title="Executing Queries" class="md-nav__link">
      Executing Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/advanced_queries/" title="Advanced Queries" class="md-nav__link">
      Advanced Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/db_tools/" title="Migration and Tooling" class="md-nav__link">
      Migration and Tooling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="db/inside_the_db/" title="Inside the DB" class="md-nav__link">
      Inside the DB
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      OAuth 2.0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        OAuth 2.0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="auth/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="auth/server/" title="Setting up Authorization" class="md-nav__link">
      Setting up Authorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="auth/authorizer/" title="Protected Routes" class="md-nav__link">
      Protected Routes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="auth/controllers/" title="Issuing Access Tokens" class="md-nav__link">
      Issuing Access Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="auth/cli/" title="Creating OAuth 2.0 Clients" class="md-nav__link">
      Creating OAuth 2.0 Clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="auth/what_is_oauth/" title="What is OAuth 2.0?" class="md-nav__link">
      What is OAuth 2.0?
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Testing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Testing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="testing/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="testing/harness/" title="Test Harness" class="md-nav__link">
      Test Harness
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="testing/test_client/" title="Writing Tests and the TestClient" class="md-nav__link">
      Writing Tests and the TestClient
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Deployment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Deployment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="deploy/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="deploy/deploy_local/" title="Deploy Locally" class="md-nav__link">
      Deploy Locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="deploy/deploy_heroku/" title="Deploy on Heroku" class="md-nav__link">
      Deploy on Heroku
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="deploy/deploy_aws/" title="Deploy on AWS" class="md-nav__link">
      Deploy on AWS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="deploy/script/" title="Deploying without aqueduct serve" class="md-nav__link">
      Deploying without aqueduct serve
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-important-references" title="Other Important References" class="md-nav__link">
    Other Important References
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tour" title="Tour" class="md-nav__link">
    Tour
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialization" title="Initialization" class="md-nav__link">
    Initialization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing" title="Routing" class="md-nav__link">
    Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controllers" title="Controllers" class="md-nav__link">
    Controllers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-and-concurrency" title="Running and Concurrency" class="md-nav__link">
    Running and Concurrency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-a-database" title="Querying a Database" class="md-nav__link">
    Querying a Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-a-data-model" title="Defining a Data Model" class="md-nav__link">
    Defining a Data Model
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-database-migration" title="Automatic Database Migration" class="md-nav__link">
    Automatic Database Migration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-20" title="OAuth 2.0" class="md-nav__link">
    OAuth 2.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" title="Logging" class="md-nav__link">
    Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" title="Testing" class="md-nav__link">
    Testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation" title="Documentation" class="md-nav__link">
    Documentation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/stablekernel/aqueduct/edit/master/docs/index.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                  <h1>Home</h1>
                
                <p><img alt="Aqueduct" src="./img/aqueduct.png" /></p>
<p>Aqueduct is a productive server-side framework written in Dart.</p>
<p><a href="https://travis-ci.org/stablekernel/aqueduct"><img alt="Build Status" src="https://travis-ci.org/stablekernel/aqueduct.svg?branch=master" /></a> <a href="https://codecov.io/gh/stablekernel/aqueduct"><img alt="" src="https://codecov.io/gh/stablekernel/aqueduct/branch/master/graph/badge.svg" /></a></p>
<h2 id="getting-started">Getting Started</h2>
<p>Make sure to check out the tutorial in the navigation menu.</p>
<ol>
<li><a href="https://www.dartlang.org/install">Install Dart</a>.</li>
<li>
<p>Activate the Aqueduct Command-Line Tool</p>
<div class="codehilite"><pre><span></span>pub global activate aqueduct
</pre></div>


</li>
<li>
<p>Run first time setup (this prompts you to setup a local PostgreSQL database for testing).</p>
<div class="codehilite"><pre><span></span>aqueduct setup
</pre></div>


</li>
<li>
<p>Create a new project.</p>
<div class="codehilite"><pre><span></span>aqueduct create my_project
</pre></div>


</li>
</ol>
<p>The recommended IDE is <a href="https://www.jetbrains.com/idea/download/">IntelliJ IDEA CE</a> (or any other IntelliJ platform, like Webstorm) with the <a href="https://plugins.jetbrains.com/idea/plugin/6351-dart">Dart Plugin</a>. (The plugin can be installed directly from the IntelliJ IDEA plugin preference pane.)</p>
<p>Other editors with good Dart plugins are <a href="https://atom.io">Atom</a> and <a href="https://code.visualstudio.com">Visual Studio Code</a>.</p>
<p>In any of these editors, open the project directory created by <code>aqueduct create</code>.</p>
<h2 id="other-important-references">Other Important References</h2>
<p>Deeper dives into the framework are available under the Guides in the sidebar.</p>
<p><a href="https://www.dartdocs.org/documentation/aqueduct/latest">Aqueduct API Reference</a>.</p>
<p><a href="https://github.com/stablekernel/aqueduct">Aqueduct on Github</a>.</p>
<h2 id="tour">Tour</h2>
<p>Take a tour of Aqueduct.</p>
<h3 id="initialization">Initialization</h3>
<p>Create applications with the command line tool:</p>
<div class="codehilite"><pre><span></span>aqueduct create my_app
</pre></div>


<p>And subclass a <code>RequestSink</code> to declare routes:</p>
<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:aqueduct/aqueduct.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">AppRequestSink</span> <span class="kd">extends</span> <span class="n">RequestSink</span> <span class="p">{</span>
  <span class="n">ManagedContext</span> <span class="n">databaseContext</span><span class="p">;</span>

  <span class="n">AppRequestSink</span><span class="p">(</span><span class="n">ApplicationConfig</span> <span class="n">config</span><span class="p">)</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">databaseContext</span> <span class="o">=</span> <span class="n">contextFrom</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="err">@</span><span class="n">override</span>
  <span class="kt">void</span> <span class="n">setupRouter</span><span class="p">(</span><span class="n">Router</span> <span class="n">router</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">router</span>
      <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/resource&quot;</span><span class="p">)</span>
      <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">ResourceController</span><span class="p">(</span><span class="n">databaseContext</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="routing">Routing</h3>
<p>Build complex routes with path variables, create route groups via optional path segments:</p>
<div class="codehilite"><pre><span></span>  <span class="n">router</span>
    <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/users/[:id]&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">UserController</span><span class="p">());</span>

  <span class="n">router</span>
    <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/file/*&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">StaticFileController</span><span class="p">());</span>
</pre></div>


<h3 id="controllers">Controllers</h3>
<p>The class most often used to respond to a request is <code>HTTPController</code>. <code>HTTPController</code>s must be subclassed and are declared in their own file. An <code>HTTPController</code> handles all HTTP requests for a resource; e.g. POST /users, GET /users and GET /users/1 all go to the same controller.</p>
<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:aqueduct/aqueduct.dart&#39;</span>

<span class="n">class</span> <span class="n">ResourceController</span> <span class="n">extends</span> <span class="n">HTTPController</span> <span class="err">{</span>
  <span class="err">@</span><span class="n">httpGet</span>
  <span class="n">Future</span><span class="err">&lt;</span><span class="n">Response</span><span class="err">&gt;</span> <span class="n">getAllResources</span><span class="err">()</span> <span class="n">async</span> <span class="err">{</span>
    <span class="n">return</span> <span class="n">new</span> <span class="n">Response</span><span class="err">.</span><span class="n">ok</span><span class="err">(</span><span class="n">await</span> <span class="n">fetchResources</span><span class="err">())</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="err">@</span><span class="n">httpGet</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">getResourceByID</span><span class="p">(</span><span class="err">@</span><span class="n">HTTPPath</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="kt">int</span> <span class="n">id</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="n">Response</span><span class="p">.</span><span class="n">ok</span><span class="p">(</span><span class="kd">await</span> <span class="n">fetchResource</span><span class="p">(</span><span class="n">id</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Use <code>ManagedObjectController&lt;T&gt;</code>s that map a REST interface to database queries without writing any code:</p>
<div class="codehilite"><pre><span></span><span class="n">router</span>
  <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/users/[:id]&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">ManagedObjectController</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">());</span>
</pre></div>


<p>Controllers catch exceptions and translate them to the appropriate status code response.</p>
<h3 id="configuration">Configuration</h3>
<p>Read YAML configuration data into type-safe and name-safe structures at startup:</p>
<div class="codehilite"><pre><span></span>// config.yaml
database:
  host: ...
  port: 5432
  databaseName: foo
otherOption: hello
numberOfDoodads: 3  
</pre></div>


<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:aqueduct/aqueduct.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">AppRequestSink</span> <span class="kd">extends</span> <span class="n">RequestSink</span> <span class="p">{</span>
  <span class="n">AppRequestSink</span><span class="p">(</span><span class="n">ApplicationConfig</span> <span class="n">config</span><span class="p">)</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AppOptions</span><span class="p">(</span><span class="n">config</span><span class="p">.</span><span class="n">configurationFilePath</span><span class="p">);</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">AppOptions</span> <span class="kd">extends</span> <span class="n">ConfigurationItem</span> <span class="p">{</span>
  <span class="n">DatabaseConnectionInfo</span> <span class="n">database</span><span class="p">;</span>
  <span class="kt">String</span> <span class="n">otherOption</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">numberOfDoodads</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<h3 id="running-and-concurrency">Running and Concurrency</h3>
<p>Aqueduct applications are run with a command line tool, which can also open debugging and instrumentation tools and specify how many threads the application should run on:</p>
<div class="codehilite"><pre><span></span>aqueduct serve --observe --isolates 5
</pre></div>


<p>Run applications detached or still connected to the shell (how a tool like Heroku expects):</p>
<div class="codehilite"><pre><span></span>aqueduct serve --detached --port $PORT
</pre></div>


<p>Aqueduct applications threads are isolated - they share no memory with other threads - and each runs a replica of the same web server. Pooling resources is effectively achieved through this mechanism.</p>
<h3 id="querying-a-database">Querying a Database</h3>
<p>Much of the time, a request is handled by sending one or more commands to a database to either get data or send data. This is done with <code>Query&lt;T&gt;</code> objects.</p>
<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:aqueduct/aqueduct.dart&#39;</span>

<span class="n">class</span> <span class="n">ResourceController</span> <span class="n">extends</span> <span class="n">HTTPController</span> <span class="err">{</span>
  <span class="err">@</span><span class="n">httpGet</span>
  <span class="n">Future</span><span class="err">&lt;</span><span class="n">Response</span><span class="err">&gt;</span> <span class="n">getAllResources</span><span class="err">()</span> <span class="n">async</span> <span class="err">{</span>
    <span class="n">var</span> <span class="n">query</span> <span class="err">=</span> <span class="n">new</span> <span class="n">Query</span><span class="err">&lt;</span><span class="n">Resource</span><span class="err">&gt;()</span><span class="p">;</span>

    <span class="kd">var</span> <span class="n">results</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">query</span><span class="p">.</span><span class="n">fetch</span><span class="p">();</span>

    <span class="k">return</span> <span class="k">new</span> <span class="n">Response</span><span class="p">.</span><span class="n">ok</span><span class="p">(</span><span class="n">results</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The results of a <code>Query&lt;T&gt;</code> can be filtered by configuring its <code>where</code> property, which uses Dart's powerful, real-time static analyzer to avoid mistakes and offer code completion.</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Query</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="p">..</span><span class="n">where</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">whereStartsWith</span><span class="p">(</span><span class="s2">&quot;Sa&quot;</span><span class="p">)</span>
  <span class="p">..</span><span class="n">where</span><span class="p">.</span><span class="n">salary</span> <span class="o">=</span> <span class="n">whereGreaterThan</span><span class="p">(</span><span class="m">50000</span><span class="p">);</span>
<span class="kd">var</span> <span class="n">results</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">query</span><span class="p">.</span><span class="n">fetch</span><span class="p">();</span>
</pre></div>


<p>Building queries to insert or update values into the database uses the similar <code>values</code> property of a <code>Query&lt;T&gt;</code>.</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Query</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="p">..</span><span class="n">values</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Bob&quot;</span>
  <span class="p">..</span><span class="n">values</span><span class="p">.</span><span class="n">salary</span> <span class="o">=</span> <span class="m">50000</span><span class="p">;</span>

<span class="kd">var</span> <span class="n">bob</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">query</span><span class="p">.</span><span class="n">insert</span><span class="p">();</span>  

<span class="kd">var</span> <span class="n">updateQuery</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Query</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="p">..</span><span class="n">where</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">bob</span><span class="p">.</span><span class="n">id</span>
  <span class="p">..</span><span class="n">values</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Bobby&quot;</span><span class="p">;</span>
<span class="n">bob</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">updateQuery</span><span class="p">.</span><span class="n">updateOne</span><span class="p">();</span>  
</pre></div>


<p><code>Query&lt;T&gt;</code>s can sort and page on a result set. It can also join tables and return objects and their relationships:</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Query</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span><span class="p">()</span>
  <span class="p">..</span><span class="n">where</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Sue Gallagher&quot;</span>
  <span class="p">..</span><span class="n">joinOne</span><span class="p">((</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">manager</span><span class="p">)</span>
  <span class="p">..</span><span class="n">joinMany</span><span class="p">((</span><span class="n">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">directReports</span><span class="p">);</span>

<span class="kd">var</span> <span class="n">herAndHerManagerAndHerDirectReports</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">query</span><span class="p">.</span><span class="n">fetchOne</span><span class="p">();</span>
</pre></div>


<p>Exceptions thrown for queries are caught by the controller and translated into the appropriate status code. Unique constraint conflicts return 409,
missing required properties return 400, database connection failure returns 503, etc. You can change this by try-catching <code>Query&lt;T&gt;</code> methods.</p>
<h3 id="defining-a-data-model">Defining a Data Model</h3>
<p>For each database table, there is a <code>ManagedObject&lt;T&gt;</code> subclass. These subclasses are the type argument to <code>Query&lt;T&gt;</code>. They are made up of two classes: a persistent type that declares a property for each database column in the table, and the subclass of <code>ManagedObject&lt;T&gt;</code> that you work with in your code.</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span> <span class="kd">extends</span> <span class="n">ManagedObject</span><span class="o">&lt;</span><span class="n">_Employee</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">_Employee</span> <span class="p">{</span>
  <span class="kt">bool</span> <span class="kd">get</span> <span class="n">wasRecentlyHired</span> <span class="o">=&gt;</span> <span class="n">hireDate</span><span class="p">.</span><span class="n">difference</span><span class="p">(</span><span class="k">new</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">()).</span><span class="n">inDays</span> <span class="o">&lt;</span> <span class="m">30</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nc">_Employee</span>  <span class="p">{</span>
  <span class="err">@</span><span class="n">managedPrimaryKey</span>
  <span class="kt">int</span> <span class="n">index</span><span class="p">;</span>

  <span class="err">@</span><span class="n">ManagedColumnAttributes</span><span class="p">(</span><span class="nl">indexed:</span> <span class="kc">true</span><span class="p">)</span>
  <span class="kt">String</span> <span class="n">name</span><span class="p">;</span>

  <span class="n">DateTime</span> <span class="n">hireDate</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">salary</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><code>ManagedObject&lt;T&gt;</code>s have relationship properties - references to other <code>ManagedObject&lt;T&gt;</code>s. The property with <code>ManagedRelationship</code> metadata is a foreign key column.</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span> <span class="kd">extends</span> <span class="n">ManagedObject</span><span class="o">&lt;</span><span class="n">_Employee</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">_Employee</span> <span class="p">{}</span>
<span class="kd">class</span> <span class="nc">_Employee</span> <span class="p">{</span>
  <span class="n">ManagedSet</span><span class="o">&lt;</span><span class="n">Initiative</span><span class="o">&gt;</span> <span class="n">initiatives</span><span class="p">;</span>

  <span class="p">...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Initiative</span> <span class="kd">extends</span> <span class="n">ManagedObject</span><span class="o">&lt;</span><span class="n">_Initiative</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">_Initiative</span> <span class="p">{}</span>
<span class="kd">class</span> <span class="nc">_Initiative</span> <span class="p">{</span>
  <span class="err">@</span><span class="n">ManagedRelationship</span><span class="p">(</span><span class="err">#</span><span class="n">initiatives</span><span class="p">)</span>
  <span class="n">Employee</span> <span class="n">leader</span><span class="p">;</span>

  <span class="p">...</span>
<span class="p">}</span>
</pre></div>


<p><code>ManagedObject&lt;T&gt;</code>s are easily read from and written to JSON (or any other format):</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">UserController</span> <span class="kd">extends</span> <span class="n">HTTPController</span> <span class="p">{</span>
  <span class="err">@</span><span class="n">httpPut</span>
  <span class="n">Future</span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span> <span class="n">updateUser</span><span class="p">(</span><span class="err">@</span><span class="n">HTTPPath</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span> <span class="kt">int</span> <span class="n">id</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Query</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">()</span>
      <span class="p">..</span><span class="n">where</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">id</span>
      <span class="p">..</span><span class="n">values</span> <span class="o">=</span> <span class="p">(</span><span class="k">new</span> <span class="n">User</span><span class="p">()..</span><span class="n">readMap</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">body</span><span class="p">.</span><span class="n">asMap</span><span class="p">());</span>

    <span class="kd">var</span> <span class="n">updatedUser</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">query</span><span class="p">.</span><span class="n">updateOne</span><span class="p">();</span>

    <span class="k">return</span> <span class="k">new</span> <span class="n">Response</span><span class="p">.</span><span class="n">ok</span><span class="p">(</span><span class="n">updatedUser</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="automatic-database-migration">Automatic Database Migration</h3>
<p>Generate and run database migrations with the <code>aqueduct db</code> tool:</p>
<div class="codehilite"><pre><span></span>aqueduct db generate
aqueduct db validate
aqueduct db upgrade --connect postgres@://...
</pre></div>


<h3 id="oauth-20">OAuth 2.0</h3>
<p>Authentication and authorization are enabled at application startup by creating an <code>AuthServer</code> with <code>ManagedAuthStorage</code>:</p>
<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:aqueduct/aqueduct.dart&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;package:aqueduct/managed_auth.dart&#39;</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">AppRequestSink</span> <span class="kd">extends</span> <span class="n">RequestSink</span> <span class="p">{</span>
  <span class="n">AppRequestSink</span><span class="p">(</span><span class="n">ApplicationConfig</span> <span class="n">config</span><span class="p">)</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">storage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ManagedAuthStorage</span><span class="o">&lt;</span><span class="n">User</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ManagedContext</span><span class="p">.</span><span class="n">defaultContext</span><span class="p">);</span>
    <span class="n">authServer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AuthServer</span><span class="p">(</span><span class="n">storage</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">AuthServer</span> <span class="n">authServer</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>Set up routes to exchange credentials for tokens using <code>AuthController</code> and <code>AuthCodeController</code>. Add <code>Authorizer</code>s between routes and their controller to restrict access to authorized resource owners only:</p>
<div class="codehilite"><pre><span></span><span class="kt">void</span> <span class="n">setupRouter</span><span class="p">(</span><span class="n">Router</span> <span class="n">router</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">router</span>
    <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/auth/token&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">AuthController</span><span class="p">(</span><span class="n">authServer</span><span class="p">));</span>

  <span class="n">router</span>
    <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/auth/code&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">AuthCodeController</span><span class="p">(</span><span class="n">authServer</span><span class="p">));</span>

  <span class="n">router</span>
    <span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/protected&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">pipe</span><span class="p">(</span><span class="k">new</span> <span class="n">Authorizer</span><span class="p">.</span><span class="n">bearer</span><span class="p">(</span><span class="n">authServer</span><span class="p">))</span>
    <span class="p">.</span><span class="n">generate</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="n">ProtectedController</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>


<p>Insert OAuth 2.0 clients into a database:</p>
<div class="codehilite"><pre><span></span>aqueduct auth add-client --id com.app.mobile --secret foobar --redirect-uri https://somewhereoutthere.com
</pre></div>


<h3 id="logging">Logging</h3>
<p>Logging can write to stdout or a rotating log file. Logging runs on its own thread; API threads send messages to the logging thread which handles I/O.</p>
<div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">WildfireSink</span> <span class="kd">extends</span> <span class="n">RequestSink</span> <span class="p">{</span>
  <span class="kd">static</span> <span class="kt">String</span> <span class="n">LoggingTargetKey</span> <span class="o">=</span> <span class="s2">&quot;logging&quot;</span><span class="p">;</span>

  <span class="kd">static</span> <span class="n">Future</span> <span class="n">initializeApplication</span><span class="p">(</span><span class="n">ApplicationConfiguration</span> <span class="n">config</span><span class="p">)</span> <span class="kd">async</span> <span class="p">{</span>    
    <span class="p">...</span>
    <span class="kd">var</span> <span class="n">loggingServer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LoggingServer</span><span class="p">([</span><span class="k">new</span> <span class="n">ConsoleBackend</span><span class="p">()]);</span>
    <span class="kd">await</span> <span class="n">loggingServer</span><span class="o">?</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
    <span class="n">config</span><span class="p">.</span><span class="n">options</span><span class="p">[</span><span class="n">LoggingTargetKey</span><span class="p">]</span> <span class="o">=</span> <span class="n">loggingServer</span><span class="o">?</span><span class="p">.</span><span class="n">getNewTarget</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="n">WildfireSink</span><span class="p">(</span><span class="n">ApplicationConfiguration</span> <span class="n">config</span><span class="p">)</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">target</span> <span class="o">=</span> <span class="n">config</span><span class="p">.</span><span class="n">options</span><span class="p">[</span><span class="n">LoggingTargetKey</span><span class="p">];</span>
    <span class="n">target</span><span class="o">?</span><span class="p">.</span><span class="n">bind</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>

    <span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;We&#39;re up!&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="testing">Testing</h3>
<p>Because Aqueduct can generate database migration files, it can generate your application data model on the fly, too. Starting a test instance of an application will connect to a temporary database and create tables that are destroyed when the database connection closes. Endpoints are validated with specialized matchers in the Hamcrest matcher style:</p>
<div class="codehilite"><pre><span></span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;/users/1 returns a user&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="n">response</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">testClient</span><span class="p">.</span><span class="n">authenticatedRequest</span><span class="p">(</span><span class="s2">&quot;/users/1&quot;</span><span class="p">).</span><span class="kd">get</span><span class="p">();</span>
  <span class="n">expect</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">hasResponse</span><span class="p">(</span><span class="m">200</span><span class="p">,</span> <span class="n">partial</span><span class="p">({</span>
    <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="m">1</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="n">isString</span>
  <span class="p">})));</span>
<span class="p">});</span>
</pre></div>


<p>Use the template project's test harness to quickly set up tests:</p>
<div class="codehilite"><pre><span></span><span class="k">import</span> <span class="s1">&#39;package:test/test.dart&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;package:my_app/my_app.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TestApplication</span><span class="p">();</span>

  <span class="n">setUpAll</span><span class="p">(()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">await</span> <span class="n">app</span><span class="p">.</span><span class="n">start</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="n">test</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="kd">async</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="n">response</span> <span class="o">=</span> <span class="kd">await</span> <span class="n">app</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;/endpoint&quot;</span><span class="p">).</span><span class="kd">get</span><span class="p">();</span>
    <span class="p">...</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>


<h3 id="documentation">Documentation</h3>
<p>Generate OpenAPI specifications automatically:</p>
<div class="codehilite"><pre><span></span>aqueduct document
</pre></div>
              
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
        
          <a href="tut/getting-started/" title="1. Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                1. Getting Started
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Built by stable|kernel
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="./assets/javascripts/application-30ac6a1727.js"></script>
      <script>app.initialize({url:{base:"."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src=n,i.parentNode.insertBefore(c,i)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-41269877-2","aqueduct.io"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>